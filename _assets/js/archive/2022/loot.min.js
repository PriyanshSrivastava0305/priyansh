var loot="#loot",nav="#nav",hero="#home-header",header="#header",footer="#footer",homeDavid="#home-david",homeNestflix="#home-nestflix",homeAirportCodes="#home-airport-codes",homeASingleDiv="#home-asinglediv",homeUSFlags="#home-us-flags",homeTopChef="#home-top-chef",homeFoodPlace="#home-food-place",homeHollywoodAgeGap="#home-hollywood-age-gap",homeDustingZone="#home-dusting-zone",homeWhyAZ="#home-whyaz",homeManual="#home-manual",homeCabinet="#home-cabinet",aboutAvatar="#about-avatar",containers=[document.querySelector(loot),document.querySelector(nav),document.querySelector(hero),document.querySelector(header),document.querySelector(footer),document.querySelector(homeDavid),document.querySelector(homeNestflix),document.querySelector(homeAirportCodes),document.querySelector(homeASingleDiv),document.querySelector(homeUSFlags),document.querySelector(homeTopChef),document.querySelector(homeFoodPlace),document.querySelector(homeHollywoodAgeGap),document.querySelector(homeDustingZone),document.querySelector(homeWhyAZ),document.querySelector(homeManual),document.querySelector(homeCabinet),document.querySelector(aboutAvatar)];function removeDraggableElements(e){if(!e)return;let o=e.querySelectorAll(".draggable");o.forEach(e=>{e.remove()})}function reset(){for(let e of(localStorage.setItem("dragCache",JSON.stringify({})),[nav,hero,header,footer,homeDavid,homeNestflix,homeAirportCodes,homeASingleDiv,homeUSFlags,homeTopChef,homeFoodPlace,homeHollywoodAgeGap,homeDustingZone,homeWhyAZ,homeManual,homeCabinet,aboutAvatar]))removeDraggableElements(document.querySelector(e))}var drake=dragula({containers:containers,removeOnSpill:!0,direction:"vertical",moves:function(e,o){return o===document.querySelector(loot)},copy:function(e,o){return o===document.querySelector(loot)},accepts:function(e,o){return o!==document.querySelector(loot)}});function syncStateToCache(e,o){let r=`#${o.getAttribute("id")}`;cache[r]=[],o.childNodes.forEach(function(e){let o=e.getAttribute("data-id");o&&cache[r].push(o)}),localStorage.setItem("dragCache",JSON.stringify(cache))}drake.on("drag",function(e){e.className=e.className.replace(" moved","")}).on("drop",function(e,o,r){e.className+=" moved",o.querySelectorAll(".eraser").length>0&&removeDraggableElements(o),o.querySelectorAll(".mushroom").length>2&&e.remove(),o.querySelectorAll(".potion").length>2&&e.remove(),syncStateToCache(e,o)}).on("remove",function(e,o){syncStateToCache(e,o)}).on("over",function(e,o,r){o.className+=" over",o.querySelectorAll(".mushroom").length>=2&&e.classList.contains("mushroom")&&(o.className+=" invalid"),o.querySelectorAll(".potion").length>=2&&e.classList.contains("potion")&&(o.className+=" invalid"),o.querySelectorAll(".draggable").length<1&&e.classList.contains("eraser")&&(o.className+=" invalid")}).on("out",function(e,o){o.className=o.className.replace(" over",""),o.className=o.className.replace(" invalid","")}).on("shadow",function(e,o,r){e!==o.children[o.children.length-1]&&o.appendChild(e)});var cache=JSON.parse(localStorage.getItem("dragCache")||"{}");for(const[container,entries]of(console.log("cache",cache),Object.entries(cache))){let e=document.querySelector(container);for(let o of entries){let r=document.querySelector(`[data-id="${o}"]`).cloneNode(!0);e.appendChild(r)}}
