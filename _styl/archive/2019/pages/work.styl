/*--------------------------------------------------------------------
* $WORK
--------------------------------------------------------------------*/

.work

  &.web .main-nav .nav-web,
  &.art .main-nav .nav-art
    nav-active()

  h2
    margin-bottom: 1em
    a
      background-image: none

  a.project-image
    margin-bottom: 1.5em
    hoverShadow()

  img.project-image
    margin-bottom: .5em
    display: block

  .border
    border: $border-light
    @media (prefers-color-scheme: dark)
      border: none

  .project img
    display: block

  //---------------------
  // non-grid
  .projects-list:after 
    content: ''
    clear: both
    display: table
  .project
    @media screen and (min-width: 601px)
      width: 50%
      padding-right: 3%
      float: left

      &.multi,
      &.wide
        width: 100%

        > div
          width: 50%
          padding-right: 3%
          float: left


  @supports (display: grid)

    .projects-list
      @media screen and (min-width: 801px)
        display: grid
        grid-template-columns: 1fr 1fr
        grid-column-gap: 3em

    .project
      width: auto
      padding: 0
      float: none
      clear: none

      &.multi
        > div
          width: auto
          float: none
          padding: 0
        @media screen and (max-width: 800px)
          > div:not(:last-child)
            margin-bottom: 1em
        @media screen and (min-width: 801px)
          grid-column: 1 / -1
          display: grid
          grid-template-columns: 1fr 1fr
          grid-gap: 1em

    .wide
      grid-column: 1 / -1

  &.web .project
    @media screen and (min-width: 601px)
      &:nth-child(2n+1)
        clear: left
    @media screen and (max-width: 650px)
      &:not(:last-child)
        margin-bottom: 3em
    @media screen and (min-width: 651px)
      &:not(:last-child):not(:nth-last-child(2))
        margin-bottom: 5em

  &.art .project
    @media screen and (min-width: 601px)
      div&:nth-child(2n+1)
        clear: left
      div&:last-child
        clear: left
    @media screen and (max-width: 650px)
      &:not(:last-child)
        margin-bottom: 2em
    @media screen and (min-width: 651px)
      &:not(:last-child):not(:nth-last-child(2))
        margin-bottom: 3em

  // dark mode instructions
  &.art .projects-list
    @media (prefers-color-scheme: dark)
      position: relative
      padding-top: 1em

      &:before
        content: 'Dark Mode! Tap/hover images for full brightness. ðŸ˜Ž'
        padding: 5px 10px
        position: absolute
        top: -2em
        right: 0
        font-size: 70%
        background-color: black(.2)
        border-radius: 3px

  // links
  .project-link
    margin-bottom: 5px
    padding-left: 20px
    display: block
    position: relative

    span,
    &.github:before
      position absolute
      left: 0
      top: 1px

    &.github:before
      content: ''
      width: 15px
      height: @width
      background-repeat: no-repeat
      background-image: url('/assets/images/archive/2019/social-github.svg')
      background-size: contain
      @media (prefers-color-scheme: dark)
        filter: invert(80%)
